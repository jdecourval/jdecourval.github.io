<!DOCTYPE html>
<html lang="en"><head><title>laptop</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:title" content="laptop"/><meta property="og:description" content="Xiaomi RedmiBook Pro 15 2023 Recently, I lost access to my job laptop, which I used to use from time to time for my personal needs. Although, that was not a priority, being close to November, I though it would be a good time of the year to get a new one, and so begun my search."/><meta property="og:image" content="https://jdecourval.github.io/static/og-image.png"/><meta property="og:width" content="1200"/><meta property="og:height" content="675"/><link rel="icon" href="../static/icon.png"/><meta name="description" content="Xiaomi RedmiBook Pro 15 2023 Recently, I lost access to my job laptop, which I used to use from time to time for my personal needs. Although, that was not a priority, being close to November, I though it would be a good time of the year to get a new one, and so begun my search."/><meta name="generator" content="Quartz"/><link href="../index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="../prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("../static/contentIndex.json").then(data => data.json())</script></head><body data-slug="ArchLinux/laptop"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h1 class="page-title"><a href="..">ü™¥ Quartz 4.0</a></h1><div class="spacer mobile-only"></div><div class="search"><div id="search-icon"><p>Search</p><div></div><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search</title><desc id="desc">Search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></div><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="search-layout" data-preview="true"></div></div></div></div><div class="darkmode"><input class="toggle" id="darkmode-toggle" type="checkbox" tabindex="-1"/><label id="toggle-label-light" for="darkmode-toggle" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg></label><label id="toggle-label-dark" for="darkmode-toggle" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></label></div><div class="explorer desktop-only"><button type="button" id="explorer" data-behavior="collapse" data-collapsed="collapsed" data-savestate="true" data-tree="[{&quot;path&quot;:&quot;ArchLinux&quot;,&quot;collapsed&quot;:true}]"><h1>Explorer</h1><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="explorer-content"><ul class="overflow" id="explorer-ul"><li><div class="folder-outer open"><ul style="padding-left:0;" class="content" data-folderul><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="ArchLinux"><button class="folder-button"><span class="folder-title">ArchLinux</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="ArchLinux"><li><a href="../ArchLinux/laptop" data-for="ArchLinux/laptop">laptop</a></li></ul></div></li><li><div class="folder-outer "><ul style="padding-left:0;" class="content" data-folderul></ul></div></li></ul></div></li><li id="explorer-end"></li></ul></div></div></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="../">Home</a><p> ‚ùØ </p></div><div class="breadcrumb-element"><a href="../ArchLinux/">ArchLinux</a><p> ‚ùØ </p></div><div class="breadcrumb-element"><a href>laptop</a></div></nav><h1 class="article-title">laptop</h1><p show-comma="true" class="content-meta"><span>Apr 25, 2024</span><span>5 min read</span></p></div></div><article class="popover-hint"><h1 id="xiaomi-redmibook-pro-15-2023">Xiaomi RedmiBook Pro 15 2023<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#xiaomi-redmibook-pro-15-2023" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<p>Recently, I lost access to my job laptop, which I used to use from time to time for my personal needs. Although, that was not a priority, being close to November, I though it would be a good time of the year to get a new one, and so begun my search.</p>
<p>Having used a recent MacBook Pro geared with an M2Pro chip, I was a bit spoiled, and was not ready to downgrade too much on some aspects. I settled on these specs:</p>
<ul>
<li>Efficient CPU</li>
<li>High quality metal frame</li>
<li>High resolution screen</li>
<li>Great on Linux</li>
</ul>
<p>The first criteria really defined my search. I‚Äôm not ready to get a new MacBook, they are way too expensive for my needs and I dislike MacOS, so back to x86. Yes, there‚Äôs Asahi Linux, but I‚Äôm not comfortable relying on Apple‚Äôs willingness to let the project continue. Plus, Intel CPUs have really week GPUs. AMD recently started selling Zen4 laptop CPUs and those are terrific: <a href="https://www.phoronix.com/review/amd-ryzen7-7840u" class="external">https://www.phoronix.com/review/amd-ryzen7-7840u<svg class="external-icon" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></p>
<p>Being located in Canada, my options were quite limited.</p>
<ul>
<li>Lenovo ThinkPad T16 Gen 2</li>
<li>Lenovo ThinkPad P16s Gen 2</li>
<li>Lenovo ThinkPad P14s Gen 4</li>
</ul>
<p>Drawback: 16GB of soldered RAM, warranty</p>
<p>706.20<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">621.46</span></span></span></span> USD after cashback, 844$ CAD, plus some taxes and brokerage fee.</p>
<h2 id="installation">Installation<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#installation" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>I used many Linux distributions over the year, but for a personal computer, I settled again on ArchLinux. ArchLinux is by no mean appropriate for everyone, but I love it since it enables me to customize my installation to the points that understand the role of everything installed. It‚Äôs even more important for a laptop where I want to control what runs in the background so that I get the best possible battery life.</p>
<p>I‚Äôve been using ArchLinux since at least 2011. At that point, Arch came with an installer, that I used for my very first installation, before it got dropped, until very recently, when archinstall became part of the installation image. I‚Äôm used to install Linux manually, but given it‚Äôs available, I decided to try the new installer.</p>
<ul>
<li>zram</li>
</ul>
<h3 id="btrfs">btrfs<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#btrfs" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>There are a couple of good options for the filesystem(s), but I chose btrfs for a couple of reasons. Subvolumes work in practice, like more conveninant partitions.</p>
<h2 id="post-installation">Post-installation<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#post-installation" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h3 id="ssh">SSH<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#ssh" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<ul>
<li>keys</li>
<li>agent</li>
</ul>
<h3 id="dotfiles-and-zsh">dotfiles and zsh<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#dotfiles-and-zsh" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h3 id="cachy-os-reflector">cachy-os, reflector<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#cachy-os-reflector" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h3 id="paru">paru<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#paru" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h3 id="backups">Backups<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#backups" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h2 id="usability">Usability<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#usability" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h3 id="font-configuration">Font configuration<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#font-configuration" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h3 id="gtk">GTK<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#gtk" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h3 id="hyprland-waybar-wayland-and-user-session">Hyprland, waybar, wayland and user session<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#hyprland-waybar-wayland-and-user-session" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<ul>
<li>qt6-wayland, qt5-wayland</li>
</ul>
<h3 id="some-packages">Some packages<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#some-packages" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<ul>
<li>Image viewer</li>
<li>PDF viewer</li>
</ul>
<h3 id="bluetooth">Bluetooth<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#bluetooth" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>The Linux laptop experience certainly improved in the last few years. I was impressed how easy this part was as compared to last time.</p>
<ul>
<li>Install blueman</li>
<li>Enable the service</li>
</ul>
<pre><code>sudo systemctl enable --now bluetooth
</code></pre>
<ul>
<li>Add to hyprland</li>
</ul>
<pre><code>exec-once = blueman-applet
exec-once = blueman-tray
</code></pre>
<ul>
<li>Disable auto power-on
Plugins<span>‚Üí</span>PowerManager<span>‚Üí</span>Configuration
Switch Auto power-on to off</li>
</ul>
<h2 id="bugs">Bugs<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#bugs" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h3 id="wi-fi-and-bluetooth">Wi-Fi and bluetooth<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#wi-fi-and-bluetooth" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Altough the Linux kernel has a perfectly working driver for the laptop‚Äôs wifi chip, the chip‚Äôs PCI vendor ID is not recognized. It‚Äôs not too hard to word around this by patching and compiling the module, I‚Äôve had to do that for cheap weird USB WiFi chips in the past, but thankfully here, it‚Äôs not necessary if you can upgrade to the not-yet-released kernel 6.7 which includes the fix.
Custom kernel 6.7
<a href="https://patchwork.kernel.org/project/linux-wireless/patch/20230824135232.5000-1-lundril@gmx.de/#25485296" class="external">https://patchwork.kernel.org/project/linux-wireless/patch/20230824135232.5000-1-lundril@gmx.de/#25485296<svg class="external-icon" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></p>
<h3 id="suspend-then-hybernate">suspend-then-hybernate<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#suspend-then-hybernate" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>hack-suspend-then-hibernate.service or rtc_cmos.use_acpi_alarm=1</p>
<h3 id="psr">PSR<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#psr" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h3 id="battery-charge-limit">Battery charge limit<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#battery-charge-limit" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>The battery controler does not expose any way to limit the battery capacity or charge current. Neither does the BIOS. I don‚Äôt know whether this is a hardware limitation or a Linux driver issue.</p>
<h3 id="fingerprint-reader">Fingerprint reader<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#fingerprint-reader" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>The fingerprint reader is not supported under Linux, and will probably never be.
<code>27c6:589a</code>
<a href="https://gitlab.freedesktop.org/libfprint/wiki/-/wikis/Unsupported-Devices/" class="external">https://gitlab.freedesktop.org/libfprint/wiki/-/wikis/Unsupported-Devices/<svg class="external-icon" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></p>
<h3 id="clock-jump">Clock jump<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#clock-jump" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>I‚Äôve had the rtc jump to year 2077 after the laptop resumed from sleep. I did not bother looking into this given it‚Äôs pretty rare and can be easily worked around by doing:</p>
<pre><code>timedatectl set-ntp false
timedatectl set-ntp true
</code></pre>
<pre><code>Unable to read current time from RTC
or 
mach_set_cmos_time: RTC write failed with error -22
</code></pre>
<p>Probably fixed by this:
<a href="https://lore.kernel.org/all/20231128053653.101798-5-mario.limonciello@amd.com/T/#m55e9858cccb261c8a0fbf721599a768fc7a61ba8" class="external">https://lore.kernel.org/all/20231128053653.101798-5-mario.limonciello@amd.com/T/#m55e9858cccb261c8a0fbf721599a768fc7a61ba8<svg class="external-icon" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></p>
<h3 id="unknown">Unknown<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#unknown" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<pre><code>[81519.034311] ACPI BIOS Error (bug): AE_AML_BUFFER_LIMIT, Index (0x000000012) is beyond end of object (length 0x12) (20230628/exoparg2-393)
[81519.034320] ACPI Error: Aborting method \_SB.A032 due to previous error (AE_AML_BUFFER_LIMIT) (20230628/psparse-529)
[81519.034323] ACPI Error: Aborting method \_SB.ALIB due to previous error (AE_AML_BUFFER_LIMIT) (20230628/psparse-529)
[81519.034325] ACPI Error: Aborting method \_SB.PCI0.LPC0.EC0.SVRP due to previous error (AE_AML_BUFFER_LIMIT) (20230628/psparse-529)
[81519.034327] ACPI Error: Aborting method \_SB.PCI0.LPC0.EC0._Q93 due to previous error (AE_AML_BUFFER_LIMIT) (20230628/psparse-529)
</code></pre>
<h2 id="optimization">Optimization<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#optimization" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h3 id="makepkg">makepkg<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#makepkg" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>I wanted to make this change quite soon given it will affect all further built packages.</p>
<h3 id="fstab-or-rename-filesystem">fstab (or rename filesystem?)<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#fstab-or-rename-filesystem" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h3 id="btrfs-maintenances">btrfs maintenances<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#btrfs-maintenances" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h3 id="tlp">tlp<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#tlp" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h3 id="disable-webcam-temporary">Disable Webcam (temporary)<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#disable-webcam-temporary" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h3 id="powertop--kitty">powertop <span>‚Üí</span> kitty<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#powertop--kitty" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h3 id="interrupts-coalescing">Interrupts coalescing<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#interrupts-coalescing" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h3 id="custom-kernel">Custom kernel<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#custom-kernel" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h3 id="kernel-options">kernel options<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#kernel-options" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h3 id="io-schedulers">io schedulers<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#io-schedulers" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h3 id="sysctls">sysctls<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#sysctls" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h3 id="60hz">60Hz<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#60hz" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h3 id="tdp-tuning">TDP tuning<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#tdp-tuning" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Results while compiling:</p>
<pre><code>45 Watts limit:
‚ùØ cat /sys/class/power_supply/BATT/power_now
55737000
# 20 Watts limit:
‚ùØ cat /sys/class/power_supply/BATT/power_now
28143000
</code></pre>
<p><a href="https://www.reddit.com/r/AMDLaptops/comments/178k7v5/7840hs_benchmarked_at_various_tdp/" class="external">https://www.reddit.com/r/AMDLaptops/comments/178k7v5/7840hs_benchmarked_at_various_tdp/<svg class="external-icon" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>
Need kernel boot param.</p>
<h3 id="firefox">Firefox<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#firefox" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h3 id="space-saving">Space saving<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#space-saving" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<ul>
<li>paccache-hook</li>
</ul>
<pre><code>sudo mkdir /etc/systemd/coredump.conf.d/
sudo vim /etc/systemd/coredump.conf.d/custom.conf
</code></pre>
<p>/etc/systemd/journald.conf.d/custom.conf</p>
<pre><code>[Journal]
SystemMaxUse=100M
MaxRetentionSec=1week
</code></pre>
<p><a href="https://wiki.archlinux.org/title/Core_dump#Using_systemd" class="external">https://wiki.archlinux.org/title/Core_dump#Using_systemd<svg class="external-icon" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></p>
<p>~/.config/user-tmpfiles.d/cache.conf
systemctl ‚Äîuser enable ‚Äînow systemd-tmpfiles-clean.timer</p>
<h3 id="dns">DNS<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#dns" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Most of the web traffic nowadays is encrypted, but not DNS. Most network propose a DNS server via DHCP, but that may not be a fast one.</p>
<h3 id="last-step-defragbalance">Last step: defrag+balance<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#last-step-defragbalance" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<pre><code>sudo btrfs filesystem defragment -r -czstd /
sudo btrfs filesystem defragment -r -czstd /home
sudo /usr/bin/btrfs balance start -dusage=50 -dlimit=2 -musage=50 -mlimit=4 
</code></pre>
<h3 id="bios">BIOS<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#bios" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3></article></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false}"></div><svg version="1.1" id="global-graph-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
	s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
	c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
	C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
	c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
	v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
	s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
	C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
	S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
	s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
	s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true}"></div></div></div><div class="toc desktop-only"><button type="button" id="toc" class><h3>Table of Contents</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="toc-content"><ul class="overflow"><li class="depth-0"><a href="#xiaomi-redmibook-pro-15-2023" data-for="xiaomi-redmibook-pro-15-2023">Xiaomi RedmiBook Pro 15 2023</a></li><li class="depth-1"><a href="#installation" data-for="installation">Installation</a></li><li class="depth-2"><a href="#btrfs" data-for="btrfs">btrfs</a></li><li class="depth-1"><a href="#post-installation" data-for="post-installation">Post-installation</a></li><li class="depth-2"><a href="#ssh" data-for="ssh">SSH</a></li><li class="depth-2"><a href="#dotfiles-and-zsh" data-for="dotfiles-and-zsh">dotfiles and zsh</a></li><li class="depth-2"><a href="#cachy-os-reflector" data-for="cachy-os-reflector">cachy-os, reflector</a></li><li class="depth-2"><a href="#paru" data-for="paru">paru</a></li><li class="depth-2"><a href="#backups" data-for="backups">Backups</a></li><li class="depth-1"><a href="#usability" data-for="usability">Usability</a></li><li class="depth-2"><a href="#font-configuration" data-for="font-configuration">Font configuration</a></li><li class="depth-2"><a href="#gtk" data-for="gtk">GTK</a></li><li class="depth-2"><a href="#hyprland-waybar-wayland-and-user-session" data-for="hyprland-waybar-wayland-and-user-session">Hyprland, waybar, wayland and user session</a></li><li class="depth-2"><a href="#some-packages" data-for="some-packages">Some packages</a></li><li class="depth-2"><a href="#bluetooth" data-for="bluetooth">Bluetooth</a></li><li class="depth-1"><a href="#bugs" data-for="bugs">Bugs</a></li><li class="depth-2"><a href="#wi-fi-and-bluetooth" data-for="wi-fi-and-bluetooth">Wi-Fi and bluetooth</a></li><li class="depth-2"><a href="#suspend-then-hybernate" data-for="suspend-then-hybernate">suspend-then-hybernate</a></li><li class="depth-2"><a href="#psr" data-for="psr">PSR</a></li><li class="depth-2"><a href="#battery-charge-limit" data-for="battery-charge-limit">Battery charge limit</a></li><li class="depth-2"><a href="#fingerprint-reader" data-for="fingerprint-reader">Fingerprint reader</a></li><li class="depth-2"><a href="#clock-jump" data-for="clock-jump">Clock jump</a></li><li class="depth-2"><a href="#unknown" data-for="unknown">Unknown</a></li><li class="depth-1"><a href="#optimization" data-for="optimization">Optimization</a></li><li class="depth-2"><a href="#makepkg" data-for="makepkg">makepkg</a></li><li class="depth-2"><a href="#fstab-or-rename-filesystem" data-for="fstab-or-rename-filesystem">fstab (or rename filesystem?)</a></li><li class="depth-2"><a href="#btrfs-maintenances" data-for="btrfs-maintenances">btrfs maintenances</a></li><li class="depth-2"><a href="#tlp" data-for="tlp">tlp</a></li><li class="depth-2"><a href="#disable-webcam-temporary" data-for="disable-webcam-temporary">Disable Webcam (temporary)</a></li><li class="depth-2"><a href="#powertop-spanrarrspan-kitty" data-for="powertop-spanrarrspan-kitty">powertop &lt;span>&amp;rarr;&lt;/span> kitty</a></li><li class="depth-2"><a href="#interrupts-coalescing" data-for="interrupts-coalescing">Interrupts coalescing</a></li><li class="depth-2"><a href="#custom-kernel" data-for="custom-kernel">Custom kernel</a></li><li class="depth-2"><a href="#kernel-options" data-for="kernel-options">kernel options</a></li><li class="depth-2"><a href="#io-schedulers" data-for="io-schedulers">io schedulers</a></li><li class="depth-2"><a href="#sysctls" data-for="sysctls">sysctls</a></li><li class="depth-2"><a href="#60hz" data-for="60hz">60Hz</a></li><li class="depth-2"><a href="#tdp-tuning" data-for="tdp-tuning">TDP tuning</a></li><li class="depth-2"><a href="#firefox" data-for="firefox">Firefox</a></li><li class="depth-2"><a href="#space-saving" data-for="space-saving">Space saving</a></li><li class="depth-2"><a href="#dns" data-for="dns">DNS</a></li><li class="depth-2"><a href="#last-step-defragbalance" data-for="last-step-defragbalance">Last step: defrag+balance</a></li><li class="depth-2"><a href="#bios" data-for="bios">BIOS</a></li></ul></div></div><div class="backlinks"><h3>Backlinks</h3><ul class="overflow"><li>No backlinks found</li></ul></div></div></div><footer class><hr/><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.2.3</a> ¬© 2024</p><ul><li><a href="https://github.com/jackyzha0/quartz">GitHub</a></li><li><a href="https://discord.gg/cRFFHYye7t">Discord Community</a></li></ul></footer></div></body><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/copy-tex.min.js" type="application/javascript"></script><script type="application/javascript">function c(){let t=this.parentElement;t.classList.toggle("is-collapsed");let l=t.classList.contains("is-collapsed")?this.scrollHeight:t.scrollHeight;t.style.maxHeight=l+"px";let o=t,e=t.parentElement;for(;e;){if(!e.classList.contains("callout"))return;let n=e.classList.contains("is-collapsed")?e.scrollHeight:e.scrollHeight+o.scrollHeight;e.style.maxHeight=n+"px",o=e,e=e.parentElement}}function i(){let t=document.getElementsByClassName("callout is-collapsible");for(let s of t){let l=s.firstElementChild;if(l){l.addEventListener("click",c),window.addCleanup(()=>l.removeEventListener("click",c));let e=s.classList.contains("is-collapsed")?l.scrollHeight:s.scrollHeight;s.style.maxHeight=e+"px"}}}document.addEventListener("nav",i);window.addEventListener("resize",i);
</script><script type="module">
          let mermaidImport = undefined
          document.addEventListener('nav', async () => {
            if (document.querySelector("code.mermaid")) {
              mermaidImport ||= await import('https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.7.0/mermaid.esm.min.mjs')
              const mermaid = mermaidImport.default
              const darkMode = document.documentElement.getAttribute('saved-theme') === 'dark'
              mermaid.initialize({
                startOnLoad: false,
                securityLevel: 'loose',
                theme: darkMode ? 'dark' : 'default'
              })

              await mermaid.run({
                querySelector: '.mermaid'
              })
            }
          });
          </script><script src="../postscript.js" type="module"></script></html>